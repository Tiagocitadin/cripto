<h2>Monitor de Criptomoedas</h2>


<!-- Campo para adicionar moeda -->
<div>
  <input [(ngModel)]="novaMoeda" placeholder="Digite a moeda (ex: BTC)" />
  <button (click)="adicionarMoeda()">Adicionar</button>
</div>

<hr>

<!-- Lista de moedas selecionadas -->
<div *ngIf="moedasSelecionadas.length > 0">
  <table border="1">
    <thead>
      <tr>
        <th>Moeda</th>
        <th>Compra</th>
        <th>Venda</th>
        <th>Último</th>
        <th>Alta</th>
        <th>Baixa</th>
        <th>Variação (%)</th>
        <th>Atualizado em</th>
        <th>Ação</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let moeda of moedasSelecionadas">
        <td>{{ moeda }}</td>
        <td>{{ dados[moeda]?.buy }}</td>
        <td>{{ dados[moeda]?.sell }}</td>
        <td>{{ dados[moeda]?.last }}</td>
        <td>{{ dados[moeda]?.high }}</td>
        <td>{{ dados[moeda]?.low }}</td>
        <td>{{ calcularVariacao(moeda) | number:'1.2-2' }}</td>
        <td>{{ dados[moeda]?.timestamp | date:'dd/MM/yyyy HH:mm:ss' }}</td>
        <td><button (click)="removerMoeda(moeda)">Remover</button></td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Caso não tenha moedas -->
<div *ngIf="moedasSelecionadas.length === 0">
  Nenhuma moeda selecionada.
</div>

<!-- Mensagem de erro -->
<div *ngIf="errorMessage" style="color: red;">
  {{ errorMessage }}
</div>
